<config workers="3" pid-file="@TEST_DIR@/conf/compData.pid" >
  <rabbitMQ host="127.0.0.1" port="5673" user="guest" password="guest"/>


  <!-- Simple test of scanning, unprocessed gauge values -->
  <composite id="test1">
    <input id="node" required="1" />

    <instance id="genericX" hostType="default">
      <scan id="ifIdx" oid="1.3.6.1.2.1.31.1.1.1.1.*" />
      <result>
        <val id="name" oid="1.3.6.1.2.1.31.1.1.1.1.ifIdx" />
        <val id="outRawCounter" oid="1.3.6.1.2.1.31.1.1.1.10.ifIdx" />
      </result>
    </instance>
  </composite>

  <composite id="interface">
    <input id="node" required="1" />
    <input id="ifName" />

    <instance id="genericInterface" hostType="default">
      <scan id="ifIdx" oid="1.3.6.1.2.1.31.1.1.1.1.*" var="ifName" />
      <result>
        <val id="*node" var="node">
          <fctn name='regexp' value='^([^_]*)(_.*)?$' />
        </val>
        <val id="*intf" oid="1.3.6.1.2.1.31.1.1.1.1.ifIdx" />
        <val id="input" type="rate" oid="1.3.6.1.2.1.31.1.1.1.6.ifIdx">
          <fctn name="*" value="8" />
        </val>
        <val id="output" type="rate" oid="1.3.6.1.2.1.31.1.1.1.10.ifIdx">
          <fctn name="rpn" value="8 *" />
        </val>
        <val id="inUcast" type="rate" oid="1.3.6.1.2.1.2.2.1.11.ifIdx" />
        <val id="outUcast" type="rate" oid="1.3.6.1.2.1.2.2.1.17.ifIdx" />
        <val id="status" oid="1.3.6.1.2.1.2.2.1.8.ifIdx" />
      </result>
    </instance>
  </composite>

  <composite id="CPU">
    <input id="node" required="1" />

    <instance id="genericCPU" hostType="default">
      <scan id="idx" oid="2.10.9994.27.1.*" />
      <result>
        <val id="*node" var="node">
          <fctn name='regexp' value='^([^_]*)(_.*)?$' />
        </val>
        <val id="*name" oid="2.10.9994.27.1.idx" />
        <val id="cpu" oid="2.10.9994.27.8.idx" />
      </result>
    </instance>
  </composite>

<!--
  <composite id="">
    <input id="node" required="1" />

    <instance id="genericX" hostType="default">
      <scan id="" oid="" var="" />
      <result>
        <val id="" var="" />
        <val id="" oid="" />
        <val id="" type="rate" oid="">
          <fctn name="" value="" />
        </val>
      </result>
    </instance>
  </composite>
-->

</config>
